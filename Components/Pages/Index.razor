@using labb3_Blazor.Services;
@using labb3_Blazor.Models;
@page "/"
@inject ApiService apiservice


<!-- HEADER -->
<header class="text-center py-5">
    <!-- Profilbild: Ange sökväg till din egen bild -->
    <img src="path/to/your-profile-image.jpg" alt="Profilbild" class="rounded-circle mb-3" style="width: 150px; height: 150px;">
    <!-- Ditt namn -->
    <h1><!-- Här skriver du ditt namn --></h1>
    <!-- Kort beskrivning om dig -->
    <p class="lead"><!-- Här skriver du en beskrivning om dig --></p>
</header>

<!-- MAIN CONTENT -->
<main class="container">
    <!-- PROJEKT-TABELL -->
    <section class="mb-5">
        <h2 class="mb-4">Mina Projekt</h2>
        @if (projects == null)
        {
            <p>Laddar projekt...</p>
        }
        else
        {
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Titel</th>
                        <th>Beskrivning</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var proj in projects)
                    {
                        <tr>
                            <td>@proj.Title</td>
                            <td>@proj.Description</td>
                        </tr>
                    }
                </tbody>
            </table>
        }
    </section>

    <!-- SKILLS-/TEKNOLOGI-TABELL -->
    <section class="mb-5">
        <h2 class="mb-4">Mina Teknologier</h2>
        @if (technologies == null)
        {
            <p>Laddar teknologier...</p>
        }
        else
        {
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Namn</th>
                        <th>Erfarenhet (år)</th>
                        <th>Skill-nivå</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var tech in technologies)
                    {
                        <tr>
                            <td>@tech.Name</td>
                            <td>@tech.YearsOfExperience</td>
                            <td>@tech.SkillLevel</td>
                        </tr>
                    }
                </tbody>
            </table>
        }
    </section>
</main>

<!-- FOOTER -->
<footer class="bg-dark text-white py-4">
    <div class="container text-center">
        <h4>Teknologier</h4>
        <div class="row justify-content-center mb-3">
            @if (technologies == null)
            {
                <p>Laddar teknologier...</p>
            }
            else
            {
                @* Varje teknologi förväntas ha en bild-URL som du fyller i via API:t (t.ex. "tech.ImageUrl") *@
                @foreach (var tech in technologies)
                {
                    <div class="col-3 col-md-2">
                        <!--<img src="@tech.ImageUrl" alt="@tech.Name" class="img-fluid" style="max-height:50px;"> -->
                    </div>
                }
            }
        </div>
        <div class="d-flex justify-content-center">
            <!-- Fyll i din egen GitHub-länk -->
            <a href="https://github.com/your-github" target="_blank" class="text-white mx-2">GitHub</a>
            <!-- Fyll i din egen LinkedIn-länk -->
            <a href="https://www.linkedin.com/in/your-linkedin" target="_blank" class="text-white mx-2">LinkedIn</a>
        </div>
    </div>
</footer>

@code {
    // skapar lista
    private List<Technology> technologies;
    private List<Projects> projects;

    protected override async Task OnInitializedAsync()
    {
        technologies = await apiservice.GetTechnologiesAsync();
        projects = await apiservice.GetProjectsAsync();
    }
}
